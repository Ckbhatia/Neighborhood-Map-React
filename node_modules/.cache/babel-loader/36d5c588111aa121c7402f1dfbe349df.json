{"ast":null,"code":"import _classCallCheck from \"G:\\\\Projects\\\\Course\\\\project-experiments\\\\neighbourhood-map\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"G:\\\\Projects\\\\Course\\\\project-experiments\\\\neighbourhood-map\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"G:\\\\Projects\\\\Course\\\\project-experiments\\\\neighbourhood-map\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"G:\\\\Projects\\\\Course\\\\project-experiments\\\\neighbourhood-map\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"G:\\\\Projects\\\\Course\\\\project-experiments\\\\neighbourhood-map\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"G:\\\\Projects\\\\Course\\\\project-experiments\\\\neighbourhood-map\\\\src\\\\components\\\\map.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nvar Map =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Map, _Component);\n\n  function Map() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Map);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Map)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.markers = [];\n\n    _this.addMarker = function (locations) {\n      // checking google as window object\n      if (window.google) {\n        (function () {\n          var infowindow = new window.google.maps.InfoWindow();\n\n          var _loop = function _loop(i) {\n            var marker = new window.google.maps.Marker({\n              position: {\n                lat: locations[i].venue.location.lat,\n                lng: locations[i].venue.location.lng\n              },\n              animation: window.google.maps.Animation.DROP,\n              map: window.map,\n              title: locations[i].venue.id\n            });\n            marker.addListener('click', function () {\n              var contents = _this.props.setContens(locations[i]);\n\n              infowindow.setContent(contents);\n              infowindow.open(window.map, marker); //animate marker on click\n\n              marker.setAnimation(window.google.maps.Animation.BOUNCE);\n              setTimeout(function () {\n                marker.setAnimation(null);\n              }, 500);\n            });\n\n            _this.markers.push(marker);\n          };\n\n          for (var i = 0; i < locations.length; i++) {\n            _loop(i);\n          } // making infowindow and markers as a window object, so that we can use this in parent component\n\n\n          window.infowindow = infowindow;\n          window.markers = _this.markers;\n        })();\n      }\n    };\n\n    _this.removeMarker = function () {\n      _this.markers.forEach(function (marker) {\n        return marker.setMap(null);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Map, [{\n    key: \"render\",\n    value: function render() {\n      this.removeMarker();\n      this.addMarker(this.props.locations);\n      return React.createElement(\"div\", {\n        role: \"main\",\n        id: \"map\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Map;\n}(Component);\n\nexport { Map as default };\nMap.propTypes = {\n  locations: PropTypes.array.isRequired,\n  setContens: PropTypes.func.isRequired\n};","map":{"version":3,"sources":["G:\\Projects\\Course\\project-experiments\\neighbourhood-map\\src\\components\\map.js"],"names":["React","Component","PropTypes","Map","markers","addMarker","locations","window","google","infowindow","maps","InfoWindow","i","marker","Marker","position","lat","venue","location","lng","animation","Animation","DROP","map","title","id","addListener","contents","props","setContens","setContent","open","setAnimation","BOUNCE","setTimeout","push","length","removeMarker","forEach","setMap","propTypes","array","isRequired","func"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;;IAEqBC,G;;;;;;;;;;;;;;;;;UACjBC,O,GAAU,E;;UACVC,S,GAAY,UAACC,SAAD,EAAc;AACtB;AACA,UAAGC,MAAM,CAACC,MAAV,EAAiB;AAAA;AACb,cAAIC,UAAU,GAAG,IAAIF,MAAM,CAACC,MAAP,CAAcE,IAAd,CAAmBC,UAAvB,EAAjB;;AADa,qCAELC,CAFK;AAGT,gBAAIC,MAAM,GAAG,IAAIN,MAAM,CAACC,MAAP,CAAcE,IAAd,CAAmBI,MAAvB,CAA8B;AACvCC,cAAAA,QAAQ,EAAC;AACLC,gBAAAA,GAAG,EAAEV,SAAS,CAACM,CAAD,CAAT,CAAaK,KAAb,CAAmBC,QAAnB,CAA4BF,GAD5B;AAELG,gBAAAA,GAAG,EAAEb,SAAS,CAACM,CAAD,CAAT,CAAaK,KAAb,CAAmBC,QAAnB,CAA4BC;AAF5B,eAD8B;AAKvCC,cAAAA,SAAS,EAAEb,MAAM,CAACC,MAAP,CAAcE,IAAd,CAAmBW,SAAnB,CAA6BC,IALD;AAMvCC,cAAAA,GAAG,EAAEhB,MAAM,CAACgB,GAN2B;AAOvCC,cAAAA,KAAK,EAAElB,SAAS,CAACM,CAAD,CAAT,CAAaK,KAAb,CAAmBQ;AAPa,aAA9B,CAAb;AASAZ,YAAAA,MAAM,CAACa,WAAP,CAAmB,OAAnB,EAA4B,YAAK;AAC7B,kBAAIC,QAAQ,GAAG,MAAKC,KAAL,CAAWC,UAAX,CAAsBvB,SAAS,CAACM,CAAD,CAA/B,CAAf;;AACAH,cAAAA,UAAU,CAACqB,UAAX,CAAsBH,QAAtB;AACAlB,cAAAA,UAAU,CAACsB,IAAX,CAAgBxB,MAAM,CAACgB,GAAvB,EAA4BV,MAA5B,EAH6B,CAK7B;;AACAA,cAAAA,MAAM,CAACmB,YAAP,CAAoBzB,MAAM,CAACC,MAAP,CAAcE,IAAd,CAAmBW,SAAnB,CAA6BY,MAAjD;AACAC,cAAAA,UAAU,CAAC,YAAU;AACjBrB,gBAAAA,MAAM,CAACmB,YAAP,CAAoB,IAApB;AACH,eAFS,EAER,GAFQ,CAAV;AAGH,aAVD;;AAWA,kBAAK5B,OAAL,CAAa+B,IAAb,CAAkBtB,MAAlB;AAvBS;;AAEb,eAAI,IAAID,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGN,SAAS,CAAC8B,MAA7B,EAAqCxB,CAAC,EAAtC,EAAyC;AAAA,kBAAjCA,CAAiC;AAsBxC,WAxBY,CAyBb;;;AACAL,UAAAA,MAAM,CAACE,UAAP,GAAoBA,UAApB;AACAF,UAAAA,MAAM,CAACH,OAAP,GAAiB,MAAKA,OAAtB;AA3Ba;AA4BhB;AACJ,K;;UAEDiC,Y,GAAe,YAAM;AACjB,YAAKjC,OAAL,CAAakC,OAAb,CAAqB,UAAAzB,MAAM;AAAA,eAAIA,MAAM,CAAC0B,MAAP,CAAc,IAAd,CAAJ;AAAA,OAA3B;AACH,K;;;;;;;6BAEO;AACJ,WAAKF,YAAL;AACA,WAAKhC,SAAL,CAAe,KAAKuB,KAAL,CAAWtB,SAA1B;AACA,aACI;AAAK,QAAA,IAAI,EAAC,MAAV;AAAiB,QAAA,EAAE,EAAC,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAGH;;;;EA7C4BL,S;;SAAZE,G;AAgDrBA,GAAG,CAACqC,SAAJ,GAAgB;AACZlC,EAAAA,SAAS,EAAEJ,SAAS,CAACuC,KAAV,CAAgBC,UADf;AAEZb,EAAAA,UAAU,EAAE3B,SAAS,CAACyC,IAAV,CAAeD;AAFf,CAAhB","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Map extends Component{\r\n    markers = [];\r\n    addMarker = (locations) =>{\r\n        // checking google as window object\r\n        if(window.google){\r\n            let infowindow = new window.google.maps.InfoWindow();\r\n            for(let i = 0; i < locations.length; i++){\r\n                let marker = new window.google.maps.Marker({\r\n                    position:{\r\n                        lat: locations[i].venue.location.lat,\r\n                        lng: locations[i].venue.location.lng\r\n                    },\r\n                    animation: window.google.maps.Animation.DROP,\r\n                    map: window.map,\r\n                    title: locations[i].venue.id\r\n                });\r\n                marker.addListener('click', () =>{\r\n                    let contents = this.props.setContens(locations[i]);\r\n                    infowindow.setContent(contents);\r\n                    infowindow.open(window.map, marker);\r\n\r\n                    //animate marker on click\r\n                    marker.setAnimation(window.google.maps.Animation.BOUNCE)\r\n                    setTimeout(function(){\r\n                        marker.setAnimation(null)\r\n                    },500)\r\n                });\r\n                this.markers.push(marker)\r\n            }\r\n            // making infowindow and markers as a window object, so that we can use this in parent component\r\n            window.infowindow = infowindow;\r\n            window.markers = this.markers; \r\n        }\r\n    };\r\n\r\n    removeMarker = () => {\r\n        this.markers.forEach(marker => marker.setMap(null))\r\n    }\r\n\r\n    render(){\r\n        this.removeMarker()\r\n        this.addMarker(this.props.locations)\r\n        return(\r\n            <div role=\"main\" id=\"map\"></div>\r\n        );\r\n    }\r\n}\r\n\r\nMap.propTypes = {\r\n    locations: PropTypes.array.isRequired,\r\n    setContens: PropTypes.func.isRequired\r\n}"]},"metadata":{},"sourceType":"module"}