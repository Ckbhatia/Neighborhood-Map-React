(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){},15:function(e,n,t){},17:function(e,n,t){"use strict";t.r(n);var o=t(0),a=t.n(o),i=t(7),r=t.n(i),c=(t(13),t(1)),s=t(2),l=t(4),u=t(3),d=t(5),m=function(){return a.a.createElement("header",null,a.a.createElement("h1",null,"Neighborhood Map"))},f=function(e){function n(){var e,t;Object(c.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(t=Object(l.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(a)))).markers=[],t.addMarker=function(e){window.google&&function(){for(var n=new window.google.maps.InfoWindow,o=function(o){var a=new window.google.maps.Marker({position:{lat:e[o].venue.location.lat,lng:e[o].venue.location.lng},animation:window.google.maps.Animation.DROP,map:window.map,title:e[o].venue.id});a.addListener("click",function(){var i=t.props.setContens(e[o]);n.setContent(i),n.open(window.map,a),a.setAnimation(window.google.maps.Animation.BOUNCE),setTimeout(function(){a.setAnimation(null)},500)}),t.markers.push(a)},a=0;a<e.length;a++)o(a);window.infowindow=n,window.markers=t.markers}()},t.removeMarker=function(){t.markers.forEach(function(e){return e.setMap(null)})},t}return Object(d.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){return this.removeMarker(),this.addMarker(this.props.locations),a.a.createElement("div",{role:"main",id:"map"})}}]),n}(o.Component),p=function(e){function n(){return Object(c.a)(this,n),Object(l.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(d.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){var e=this.props,n=e.locations,t=e.showInfo,o=e.query,i=e.inputChange;return a.a.createElement("div",{className:"List"},a.a.createElement("div",{className:"side-drawer open"},a.a.createElement("h4",{tabIndex:0},"Nearby Places"),a.a.createElement("div",{className:"filter"},a.a.createElement("i",{className:"fas fa-search-location"}),a.a.createElement("label",{htmlFor:"filter-input",className:"search-accs"},"Search Location"),a.a.createElement("input",{tabIndex:0,type:"text",id:"filter-input",className:"query",placeholder:"Search Nearby Places",value:o,onChange:function(e){return i(e.target.value)}})),a.a.createElement("ol",{"aria-label":"List of Restaurants"},n.map(function(e){return a.a.createElement("li",{className:"listItem title",tabIndex:0,role:"button",key:e.venue.id,onClick:function(){t(e)}},e.venue.name)}))))}}]),n}(o.Component),w=function(){var e=new window.google.maps.Map(document.getElementById("map"),{center:{lat:26.91962,lng:75.78781},zoom:14});window.map=e},h=function(){var e=function(){var e=document.createElement("script");return e.src="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyBtsirN68OAeo4fv8o0iEOZ5dJlEAHLUxA","&callback=initMap"),e.async=!0,e.defer=!0,e.onerror=function(){alert("Google maps faild to load, Error!")},e}(),n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n),window.initMap=w},v=function(e){function n(){var e,t;Object(c.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(t=Object(l.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(a)))).state={locations:[],allLocations:[],query:""},t.setContens=function(e){return'\n            <div>\n                <h3 className="title">Name: '.concat(e.venue.name,'</h3>\n                <p className="address">Address: ').concat(e.venue.location.address,"</p>\n            </div>\n            ")},t.infoClick=function(e){for(var n=function(n){if(e.venue.id===window.markers[n].title){var o=t.setContens(e);window.infowindow.setContent(o),window.infowindow.open(window.map,window.markers[n]),window.markers[n].setAnimation(window.google.maps.Animation.BOUNCE),setTimeout(function(){window.markers[n].setAnimation(null)},1e3)}},o=0;o<window.markers.length;o++)n(o)},t.filterLocations=function(e,n){return n.filter(function(n){return n.venue.name.toLowerCase().includes(e.toLowerCase())})},t.inputChange=function(e){t.setState({query:e}),e?t.setState({locations:t.filterLocations(e,t.state.locations)}):t.setState({locations:t.state.allLocations})},t}return Object(d.a)(n,e),Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.foursquare.com/v2/venues/explore?visit=places&near=jaipur&client_id=ZGHPEJVLV3MDALTJVNB2MOFFC1TWT5MXDPTFQTTCEIKOHD1S&client_secret=XQJFWPIW1Y5CRUZZ3N2NY4LTHXQVR31WFLX24RAWNDDHLR3Z&v=20181122").then(function(e){return e.json()}).then(function(e){return e.response.groups[0].items}).catch(function(e){return alert("Foursquare Api faild to load! Error: ".concat(e))}).then(function(n){return e.setState({locations:n,allLocations:n})})}},{key:"render",value:function(){return a.a.createElement("div",{role:"main",className:"container"},a.a.createElement(p,{locations:this.state.locations,inputChange:this.inputChange,showInfo:this.infoClick,query:this.state.query}),a.a.createElement(f,{locations:this.state.locations,setContens:this.setContens}))}}]),n}(o.Component),g=(t(15),function(e){function n(){return Object(c.a)(this,n),Object(l.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(d.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){return h(),a.a.createElement("div",{className:"App"},a.a.createElement(m,null),a.a.createElement(v,null))}}]),n}(o.Component)),b=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(a.a.createElement(g,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Neighborhood-Map-React",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/Neighborhood-Map-React","/service-worker.js");b?(function(e,n){fetch(e).then(function(t){var o=t.headers.get("content-type");404===t.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):k(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):k(n,e)})}}()},8:function(e,n,t){e.exports=t(17)}},[[8,2,1]]]);
//# sourceMappingURL=main.a631abc7.chunk.js.map